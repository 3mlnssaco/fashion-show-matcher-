# 패션쇼 피날레 모델 매칭 시스템

## 개요

이 웹 애플리케이션은 패션쇼 피날레에서 디자이너와 모델을 공정하게 매칭하기 위한 시스템입니다. 시드 값을 기반으로 일관된 결과를 보장하며, 디자이너의 선호도(1~4지망)를 고려하여 모델을 배정합니다.

## 주요 기능

- 엑셀(.xlsx, .xls) 및 CSV(.csv) 파일 업로드 및 파싱 (헤더 행 자동 무시)
- 다양한 시드 입력 방식 (현재 날짜/시간/초 기반, 수동 입력, 히스토리)
- 시드 기반 공정한 매칭 알고리즘
- 모든 디자이너가 반드시 1~4지망 내에서만 모델 배정 보장
- 지망 수가 다른 디자이너들 간 공정성 보장
- 시드 검증 테스트 기능
- 매칭 결과 시각화 (선호도별 색상 구분)
- 결과 엑셀 파일 다운로드

## 사용 방법

### 1. 파일 준비

다음과 같은 형식으로 엑셀(.xlsx, .xls) 또는 CSV(.csv) 파일을 준비합니다:
- 첫 번째 행: 헤더 행 (무시됨)
- 두 번째 행부터: 디자이너 및 선호 모델 데이터
  - 첫 번째 열: 디자이너 이름
  - 두 번째 열: 1지망 모델 이름
  - 세 번째 열: 2지망 모델 이름
  - 네 번째 열: 3지망 모델 이름
  - 다섯 번째 열: 4지망 모델 이름 (선택사항)

예시:
```
디자이너,1지망,2지망,3지망,4지망
디자이너A,모델A,모델B,모델C,모델D
디자이너B,모델E,모델F,모델G,
디자이너C,모델H,모델I,모델J,모델K
...
```

### 2. 웹사이트 접속

배포된 웹사이트에 접속합니다.

### 3. 파일 업로드

"엑셀 파일 업로드" 섹션에서 준비한 엑셀 또는 CSV 파일을 업로드합니다. 파일을 드래그 앤 드롭하거나 클릭하여 선택할 수 있습니다.

### 4. 시드 값 설정

"매칭 실행 및 결과" 섹션에서 다음 방법 중 하나로 시드 값을 설정합니다:

- **직접 입력**: 원하는 시드 값을 직접 입력합니다.
- **오늘 날짜로 시드 생성**: 현재 날짜(YYYYMMDD 형식)를 시드로 사용합니다.
- **현재 시간으로 시드 생성**: 현재 날짜와 시간(YYYYMMDDHHmmss 형식, 초 포함)을 시드로 사용합니다.
- **시드 히스토리**: 이전에 사용한 시드 값을 히스토리에서 선택합니다.

시드 값은 매칭 결과의 일관성을 보장하는 중요한 요소입니다. 동일한 시드 값을 사용하면 항상 동일한 결과가 나옵니다.

### 5. 시드 검증 테스트 (선택사항)

"시드 검증 테스트" 버튼을 클릭하여 현재 시드 값이 일관된 결과를 보장하는지 확인할 수 있습니다. 이 기능은 동일한 시드로 두 번 매칭을 실행하여 결과가 일치하는지 검증합니다.

### 6. 매칭 실행

"매칭 실행" 버튼을 클릭하여 디자이너-모델 매칭을 실행합니다.

### 7. 결과 확인

매칭 결과가 테이블 형식으로 표시됩니다. 각 디자이너와 배정된 모델, 그리고 선호도 순위(1~4지망)가 표시됩니다. 선호도에 따라 다음과 같이 색상으로 구분됩니다:
- 1지망: 녹색
- 2지망: 파란색
- 3지망: 노란색
- 4지망: 보라색

### 8. 결과 다운로드

"엑셀 다운로드" 버튼을 클릭하여 매칭 결과를 엑셀 파일로 다운로드할 수 있습니다.

## 매칭 알고리즘 설명

1. 각 선호도 순위(1~4지망)별로 순차적으로 처리합니다.
2. 1지망에서 중복이 없는 경우 바로 배정합니다.
3. 1지망에서 중복이 있는 경우 시드 기반 추첨을 통해 공정하게 배정합니다.
4. 1지망에서 탈락한 디자이너는 2지망 모델을 우선적으로 고려합니다.
5. 이 과정을 4지망까지 반복합니다.
6. 모든 디자이너는 반드시 자신의 1~4지망 내에서만 모델을 배정받습니다.
7. 지망 수가 다른 디자이너들 간에 공정성을 보장합니다.
8. 필요한 경우 디자이너 간 모델 교환을 통해 최적의 매칭을 찾습니다.

## 주요 특징

- **헤더 행 자동 무시**: 첫 번째 행은 헤더로 간주하고 자동으로 무시합니다.
- **선호도 내 배정 보장**: 모든 디자이너는 반드시 자신의 1~4지망 내에서만 모델을 배정받습니다.
- **지망 수 공정성**: 지망 수가 다른 디자이너들 간에 공정한 배정을 보장합니다.
- **초 단위 시드 지원**: 현재 시간 기반 시드에 초(second)까지 포함하여 더 정밀한 시드 생성이 가능합니다.

## 검증 방법

동일한 시드 값을 사용하면 항상 동일한 결과가 나오는지 확인하는 방법:

1. 특정 시드 값(예: "test123")을 입력합니다.
2. "매칭 실행" 버튼을 클릭하고 결과를 확인합니다.
3. 페이지를 새로고침하거나 다른 브라우저에서 동일한 파일과 시드 값으로 다시 실행합니다.
4. 두 결과가 완전히 동일한지 확인합니다.

또는 "시드 검증 테스트" 버튼을 클릭하여 자동으로 검증할 수 있습니다.


## 문제 해결

- 파일 업로드 오류: 엑셀 파일(.xlsx 또는 .xls) 또는 CSV 파일(.csv) 형식인지 확인하세요.
- 매칭 결과 불일치: 동일한 시드 값을 사용했는지 확인하세요.
- 빈 결과: 파일 형식이 올바른지 확인하세요.
- 시드 히스토리 문제: 브라우저 로컬 스토리지를 지우고 다시 시도하세요.

## 기술 스택

- React
- TypeScript
- Tailwind CSS
- xlsx (엑셀 파일 처리)
- seedrandom (시드 기반 난수 생성)
